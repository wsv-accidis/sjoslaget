<h1>Bokning</h1>

<div *ngIf="!isCruiseLocked">
	<p style="margin-bottom: 3px">
		Bokningen är öppen och det är bara att sätta fart! Läs igenom <a [routerLink]="AboutRoutes.booking.toUrl()">Hur man bokar</a> och se till att
		du har alla uppgifter klara från början så kommer det att gå mycket snabbare och enklare. Börja med att fylla i dina
		egna uppgifter som <strong>kontaktperson</strong>:
	</p>

	<form #bookingForm="ngForm" (submit)="submitDetails()">
		<input type="submit" class="hidden-submit"/>

		<div>
			<material-input [(ngModel)]="firstName"
							ngControl="firstName"
							floatingLabel
							label="Förnamn"
							required
							requiredErrorMsg="Ange förnamn."
							style="width: 150px; margin-right: 20px">
			</material-input>

			<material-input [(ngModel)]="lastName"
							ngControl="lastName"
							floatingLabel
							label="Efternamn"
							required
							requiredErrorMsg="Ange efternamn."
							style="width: 150px">
			</material-input>
		</div>
		<div>
			<material-input [(ngModel)]="phoneNo"
							ngControl="phoneNo"
							floatingLabel
							label="Telefonnummer"
							required
							requiredErrorMsg="Ange telefonnummer."
							pattern="[0-9()+\- ]+"
							style="width: 150px; margin-right: 20px"
							type="tel">
			</material-input>

			<material-input [(ngModel)]="email"
							ngControl="email"
							floatingLabel
							label="E-postadress"
							required
							requiredErrorMsg="Ange e-postadress."
							pattern="[_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.([a-zA-Z]{2,6})"
							style="width: 250px"
							tel="email">
			</material-input>
		</div>
		<p class="super-important" style="margin-top: 0">
			Dubbelkolla att e-postadressen stämmer!
		</p>
		<div>
			Om vi får välja, äter vi <span class="underline">helst</span> lunch klockan...<br/>
			<material-radio-group [(ngModel)]="lunch"
								  ngControl="lunch">
				<material-radio style="margin-left: 0"
								value="11">
					11:00
				</material-radio>
				<material-radio [checked]="true"
								value="13">
					13:00
				</material-radio>
				<material-radio value="15">
					15:00
				</material-radio>
			</material-radio-group>
		</div>
		<div>
			<material-checkbox [(ngModel)]="acceptToc"
							   ngControl="acceptToc"
							   style="font-size: smaller; margin-left: 0">
				Jag godkänner att samtliga personuppgifter jag anger i bokningen får lagras och användas av Sjöslaget och våra samarbetspartners, samt att ingen person i bokningen är under 18 år.
				Sjöslaget säljer inte personuppgifter vidare och vi använder dem aldrig i marknadsföringssyfte. Läs gärna <a [routerLink]="AboutRoutes.privacy.toUrl()">vår integritetspolicy</a> för mer information.
			</material-checkbox>
		</div>
		<div style="margin-top: 10px">
			<material-button [disabled]="!bookingForm.valid || !acceptToc"
							 class="control-blue"
							 raised
							 (trigger)="submitDetails()">
				Jag har fyllt i allt rätt, ta mig till hytterna!
			</material-button>
		</div>
		<p *ngIf="!bookingForm.valid || !acceptToc">
			Är knappen grå? Kolla så att du har fyllt i allting.
		</p>
	</form>
</div>

<p *ngIf="isCruiseLocked && !isLoadingCruise">
	Bokningen är stängd. Det är bara att vänta tills den öppnar igen! <a [routerLink]="ContentRoutes.contact.toUrl()">Kontakta oss</a> om du har frågor kring tidigare bokningar.
</p>

<spinner-widget *ngIf="isLoadingCruise"></spinner-widget>

<h1 style="margin-top: 20px">Din bokning</h1>

<p style="margin-bottom: 5px;">
	Redan bokat? Logga in här för att visa eller ändra din bokning.
</p>

<booking-login></booking-login>

<div style="height: 30px"></div>
