<h1>
	Bokning
</h1>

<p>
	Bokningen till Absolut Gotland går till så här: Du som lagledare fyller i god tid innan bokningen öppnar i ditt namn
	och kontaktuppgifter, lagets namn och storlek här på sidan. Då får du tillgång till <strong>nedräkningen</strong>
	och sedan gäller det att vara orimligt snabb på knappen när räknaren når noll. 	Läs igenom
	<a [routerLink]="AboutRoutes.booking.toUrl()">Hur man bokar</a> i god tid innan bokningen faktiskt öppnar!
</p>

<div *ngIf="isLoaded && hasOpening">
	<p>
		Bokingen för <strong>{{ eventName }}</strong> öppnar {{ eventOpening }}.
	</p>
	<form #candidateForm="ngForm" (submit)="submitDetails()">
		<input type="submit" class="hidden-submit"/>

		<div>
			<material-input [(ngModel)]="firstName"
							ngControl="firstName"
							floatingLabel
							label="Förnamn"
							required
							requiredErrorMsg="Ange förnamn."
							style="width: 150px; margin-right: 20px">
			</material-input>

			<material-input [(ngModel)]="lastName"
							ngControl="lastName"
							floatingLabel
							label="Efternamn"
							required
							requiredErrorMsg="Ange efternamn."
							style="width: 150px">
			</material-input>
		</div>
		<div>
			<material-input [(ngModel)]="phoneNo"
							ngControl="phoneNo"
							floatingLabel
							label="Telefonnummer"
							required
							requiredErrorMsg="Ange telefonnummer."
							pattern="[0-9()+\- ]+"
							style="width: 150px; margin-right: 20px"
							type="tel">
			</material-input>

			<material-input [(ngModel)]="email"
							ngControl="email"
							floatingLabel
							label="E-postadress"
							required
							requiredErrorMsg="Ange e-postadress."
							pattern="[_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.([a-zA-Z]{2,6})"
							style="width: 250px"
							tel="email">
			</material-input>
		</div>
		<div>
			<material-input [(ngModel)]="teamName"
							ngControl="teamName"
							floatingLabel
							label="Lagnamn"
							required
							requiredErrorMsg="Ange lagets namn."
							style="width: 290px; margin-right: 20px">
			</material-input>

			<material-dropdown-select [buttonText]="teamSizeToString(teamSize)"
									  [options]="teamSizeOptions"
									  [itemRenderer]="teamSizeToString"
									  [selection]="teamSizeSelection"
									  width="2">
			</material-dropdown-select>
		</div>
		<p class="super-important" style="margin-top: 0">
			Dubbelkolla att e-postadressen stämmer!
		</p>
		<div>
			<material-checkbox [(ngModel)]="acceptRules"
							   ngControl="acceptRules"
							   style="font-size: smaller; margin-left: 0">
				Jag har läst och förstått <a [routerLink]="AboutRoutes.rules.toUrl()">Reglerna som gäller på Absolut Gotland</a>.
			</material-checkbox>
		</div>
		<div>
			<material-checkbox [(ngModel)]="acceptToc"
							   ngControl="acceptToc"
							   style="font-size: smaller; margin-left: 0">
				Jag godkänner att de personuppgifter jag anger i bokningen får lagras och användas av Rindi, Sjöslagsgruppen och deras samarbetspartners.
				Inga personuppgifter används i marknadsföringssyfte eller sprids till tredje part som inte har något med Absolut Gotland att göra.
			</material-checkbox>
		</div>
		<div style="margin-top: 10px">
			<material-button [disabled]="!candidateForm.valid || !acceptToc || !acceptRules"
							 class="control-blue"
							 raised
							 (trigger)="submitDetails()">
				Jag har fyllt i allt rätt, ta mig till nedräkningen!
			</material-button>
		</div>
	</form>

	<p *ngIf="!candidateForm.valid || !acceptToc || !acceptRules">
		Är knappen grå? Kolla så att du har fyllt i allting.
	</p>
</div>

<div *ngIf="isLoaded && !hasOpening">
	Du är tidigt ute - vi har inte satt ett datum för bokningens öppnande ännu. Kom igen senare!
</div>

<spinner-widget *ngIf="!isLoaded"></spinner-widget>

<div *ngIf="hasError">
	<p>
		Hoppsan! Någonting är väldigt trasigt just nu. Du kan försöka ladda om sidan, eller
		komma tillbaka igen senare.
	</p>
</div>
